<html>
	<head>
    	<title>Send Notes</title>
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
		<script type = "text/javascript">

			// https://www.eclipse.org/paho/index.php?page=clients/js/index.php

			var noteToSend = "";

			function MQTTconnect(note) {

				noteToSend = note;
				client = new Paho.MQTT.Client("broker.hivemq.com", 8000, "clientId");
				client.connect({onSuccess:onConnect});
			}

			// TODO: Keep connection open

			function onConnect() {
				client.subscribe("jeffsynth");
				message = new Paho.MQTT.Message(noteToSend);
				message.destinationName = "jeffsynth";
				client.send(message);
			}

		</script>
	</head>

  	<body>
		<button onclick="MQTTconnect('C')">C</button><br/><br/>
		<button onclick="MQTTconnect('D')">D</button><br/><br/>
		<button onclick="MQTTconnect('E')">E</button>
	</body>
</html>
